<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--><!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class="no-js">
<!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <title>How to create sorted run for merge-sort larger than M (memory size) using SnowPlow Algorithm – Alessandro Pagiaro</title> <meta name="description" content="Studente di Informatica presso l'Università di Pisa. Scout a tempo perso."> <meta name="keywords" content="algorithm, english"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://127.0.0.1:4000/assets/img/me.png"> <meta name="twitter:title" content="How to create sorted run for merge-sort larger than M (memory size) using SnowPlow Algorithm"> <meta name="twitter:description" content="A simple algorithm to create runs larger than memory size"> <meta name="twitter:site" content="@alessandro308"> <meta name="twitter:creator" content="@alessandro308"> <!-- Open Graph --> <meta property="og:locale" content="it_IT"> <meta property="og:type" content="article"> <meta property="og:title" content="How to create sorted run for merge-sort larger than M (memory size) using SnowPlow Algorithm"> <meta property="og:description" content="A simple algorithm to create runs larger than memory size"> <meta property="og:url" content="http://127.0.0.1:4000/snowplow-algorithm/"> <meta property="og:site_name" content="Alessandro Pagiaro"> <meta property="og:image" content="http://127.0.0.1:4000/assets/img/me.png"> <link rel="canonical" href="http://127.0.0.1:4000/snowplow-algorithm/"> <link href="http://127.0.0.1:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Alessandro Pagiaro Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://127.0.0.1:4000/assets/css/main.css"> <!-- JS --> <script src="http://127.0.0.1:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://127.0.0.1:4000/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://127.0.0.1:4000/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://127.0.0.1:4000/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://127.0.0.1:4000/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://127.0.0.1:4000/favicon.png"> <link rel="shortcut icon" href="http://127.0.0.1:4000/favicon.ico"> <!-- Background Image --> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://127.0.0.1:4000/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://127.0.0.1:4000/assets/img/me.png" alt="Alessandro Pagiaro photo" class="author-photo"> <h4>Alessandro Pagiaro</h4> <p>Studente di Informatica presso l'Università di Pisa. Scout a tempo perso.</p> </li> <li><a href="http://127.0.0.1:4000/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:alessandropagiaro@gmail.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://twitter.com/alessandro308" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a> </li> <li> <a href="http://linkedin.com/in/alessandro-pagiaro-9a5a5496" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a> </li> <li> <a href="http://github.com/alessandro308" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> </ul>
<!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="http://127.0.0.1:4000/posts/">All Posts</a></li> <li><a href="http://127.0.0.1:4000/tags/">All Tags</a></li> </ul> </li> <li><a href="http://127.0.0.1:4000/projects/">Projects</a></li> </ul>
<!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>How to create sorted run for merge-sort larger than M (memory size) using SnowPlow Algorithm</h1> <h4>03 Oct 2017</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~2 minutes </p>
<!-- /.entry-reading-time --> <a class="btn zoombtn" href="http://127.0.0.1:4000/posts/"> <i class="fa fa-chevron-left"></i> </a> </div> <p>If we design an algoritmh and we stop thinking about CPU time and focus our attention on main bottleneck of “computer speed”, we have to fucus our attention on IO access in (main) memory. Moreover this introduce new problem, how to optimize access in memory?</p> <p>If I design a mergesort algorithm, I’ll find useful to build a <em>k-way mergesort</em> where the complexity decrease when the run size increas [1]. So it’s useful to find a way to create a sorted run as long as we can.</p> <p>We can use some tecnique, one of them called Algorithm R (Replacement selection) by Knuth [2], or, more funny, the snowplow algorithm. It outputs a sorted runs of size greater that <code class="highlighter-rouge">M</code> (memory size), with average size equal to <code class="highlighter-rouge">2M</code> and then you can use this sorted runs as input in a (<em>k-way</em>) mergesort.</p> <h2 id="step-1">Step 1</h2> <p>First of all you need to create an min heaptree with M element in main memory. This tree can be build in <code class="highlighter-rouge">O(n)</code> time.</p> <h2 id="step-2">Step 2</h2> <p>Get an element <code class="highlighter-rouge">e</code> from unsorted set (saved in external memory), and then compare it with the minimum element <code class="highlighter-rouge">m</code> extracted from min-headtree.</p> <h5 id="case-1">Case 1</h5> <p>If the element is less then extracted one, i.d. <code class="highlighter-rouge">e &lt; m</code>, then put <code class="highlighter-rouge">e</code> in unsorted bucket in main memory and send <code class="highlighter-rouge">e</code> to output.</p> <h5 id="case-2">Case 2</h5> <p>Else if the element is greater than the minimum, i.d. <code class="highlighter-rouge">e &gt; m</code> then send <code class="highlighter-rouge">m</code> to output and add new element <code class="highlighter-rouge">e</code> in heaptree then heapify the tree - <code class="highlighter-rouge">O(log n)</code></p> <h2 id="step-3">Step 3</h2> <p>If heapTree is empty</p> <ul> <li>build a new heaptree with unsorted element put in main mamory bucket -(notice that if heaptree is empty, the unsorted bucket contains M-1 elements)</li> </ul> <p>else</p> <ul> <li>back to First Step</li> </ul> <p>If the external sorted elements in external memory ends, extract min from min-headtree until it became empty.</p> <h1 id="example">Example</h1> <p>Here I provide a small example to show how this algorithm works. <img src="http://127.0.0.1:4000/assets/img/post-image/snowplow.jpg" alt="SnowPlow Algorithm Example"></p> <p>So the sorted runs are:</p> <ul> <li>2 3 6 23 54 61</li> <li>1 5 9 42</li> </ul> <h2 id="conclusion">Conclusion</h2> <p>As Ferragina says on [1], <em>Snow-Plow builds <code class="highlighter-rouge">O(n=M)</code> sorted runs, each longer than M and actually of length 2M on average. Using Snow-Plow for the formation of sorted runs in a Merge-based sorting scheme, this achieves an I/O-complexity of \( O(\frac{n}{B}log_{2}{\frac{n}{2M}})\) on average.</em></p> <h2 id="references">References</h2> <p>[1] The magic of Algorithm, lecture notes of Paolo Ferragina</p> <p>[2] Donald E. Knuth. The Art of Computer Programming: volume 3. Addison-Wesley, 2nd Edition, 1998.</p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://127.0.0.1:4000/tags/#algorithm" title="Pages tagged algorithm" class="tag"><span class="term">algorithm</span></a><a href="http://127.0.0.1:4000/tags/#english" title="Pages tagged english" class="tag"><span class="term">english</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://127.0.0.1:4000/snowplow-algorithm/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=http://127.0.0.1:4000/snowplow-algorithm/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=http://127.0.0.1:4000/snowplow-algorithm/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"></section><!-- /#disqus_thread --> </header> <!-- JS --> <script src="http://127.0.0.1:4000/assets/js/jquery-1.12.0.min.js"></script> <script src="http://127.0.0.1:4000/assets/js/jquery.dlmenu.min.js"></script> <script src="http://127.0.0.1:4000/assets/js/jquery.goup.min.js"></script> <script src="http://127.0.0.1:4000/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://127.0.0.1:4000/assets/js/jquery.fitvid.min.js"></script> <script src="http://127.0.0.1:4000/assets/js/scripts.js"></script> <!-- Asynchronous Google Analytics snippet --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-105829132-1', 'auto'); ga('require', 'linkid', 'linkid.js'); ga('send', 'pageview'); </script> <script type="text/javascript"> var disqus_shortname = 'alessandro308'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
