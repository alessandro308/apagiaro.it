<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--><!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class="no-js">
<!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <title>La crittografia moderna spiegata a mia mamma, parte 2 – Alessandro Pagiaro</title> <meta name="description" content="Studente di Informatica presso l'Università di Pisa. Scout a tempo perso."> <meta name="keywords" content="crittografia, RSA"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="http://www.androidworld.it/wp-content/uploads/2015/03/crittografia-1280x720.jpg"> <meta name="twitter:title" content="La crittografia moderna spiegata a mia mamma, parte 2"> <meta name="twitter:description" content="La crittografia asimmetrica"> <meta name="twitter:site" content="@alessandro308"> <meta name="twitter:creator" content="@alessandro308"> <!-- Open Graph --> <meta property="og:locale" content="it_IT"> <meta property="og:type" content="article"> <meta property="og:title" content="La crittografia moderna spiegata a mia mamma, parte 2"> <meta property="og:description" content="La crittografia asimmetrica"> <meta property="og:url" content="http://127.0.0.1:4000/intro-crittografia-2/"> <meta property="og:site_name" content="Alessandro Pagiaro"> <meta property="og:image" content="http://127.0.0.1:4000/assets/img/me.png"> <link rel="canonical" href="http://127.0.0.1:4000/intro-crittografia-2/"> <link href="http://127.0.0.1:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Alessandro Pagiaro Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://127.0.0.1:4000/assets/css/main.css"> <!-- JS --> <script src="http://127.0.0.1:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://127.0.0.1:4000/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://127.0.0.1:4000/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://127.0.0.1:4000/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://127.0.0.1:4000/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://127.0.0.1:4000/favicon.png"> <link rel="shortcut icon" href="http://127.0.0.1:4000/favicon.ico"> <!-- Background Image --> <!-- Post Feature Image --> <style type="text/css">.feature {background-image:url(http://www.androidworld.it/wp-content/uploads/2015/03/crittografia-1280x720.jpg);}</style> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://127.0.0.1:4000/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://127.0.0.1:4000/assets/img/me.png" alt="Alessandro Pagiaro photo" class="author-photo"> <h4>Alessandro Pagiaro</h4> <p>Studente di Informatica presso l'Università di Pisa. Scout a tempo perso.</p> </li> <li><a href="http://127.0.0.1:4000/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:alessandropagiaro@gmail.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://twitter.com/alessandro308" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a> </li> <li> <a href="http://linkedin.com/in/alessandro-pagiaro-9a5a5496" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a> </li> <li> <a href="http://github.com/alessandro308" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> </ul>
<!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="http://127.0.0.1:4000/posts/">All Posts</a></li> <li><a href="http://127.0.0.1:4000/tags/">All Tags</a></li> </ul> </li> <li><a href="http://127.0.0.1:4000/projects/">Projects</a></li> </ul>
<!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>La crittografia moderna spiegata a mia mamma, parte 2</h1> <h4>22 Aug 2017</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~6 minutes </p>
<!-- /.entry-reading-time --> <a class="btn zoombtn" href="http://127.0.0.1:4000/posts/"> <i class="fa fa-chevron-left"></i> </a> </div> <p>Come avevamo già visto nella <a href="http://127.0.0.1:4000/intro-crittografia">prima parte</a>, uno dei problemi principale di quando dobbiamo cifrare qualcosa è il comunicare la chiave di decifrazione al destinatario in quanto non possiamo cifrarla in alcun modo. A risolvere questo problema ci pensano gli algoritmi di crittografia asimmetrica.</p> <p>Avete presente quel discorso fatto nella <a href="http://127.0.0.1:4000/intro-crittografia">prima parte</a> in cui si diceva che trovare un inverso di un numero <i>n</i> quando c’è di mezzo l’operatore <em>modulo</em> non è poi così tanto banale? Ecco, è proprio ancora questa cosa che venne in aiuto a Ronald Rivest, Adi Shamir e Leonard Adleman nel 1977.</p> <h2 id="come-avremmo-fatto-100-anni-fa">Come avremmo fatto 100 anni fa..</h2> <p><img src="http://www.intecosas.com/immagini/catalogo/materiali_consumo/lucchetti_CISA/lucchetto_ottone.jpg" alt="lucchetti"> In uno scenario classico, se volessimo scambiarci messaggi tramite posta assicurandoci che nessuno di noi legga il messaggio potremmo fare una cosa del genere :</p> <ul> <li>Ti mando una scatolina con dentro il messaggio e chiudo la scatolina con un lucchetto</li> </ul> <p>Non possiamo chiaramente spedirci la chiave dei lucchetti, questa potrebbe essere intercettata…</p> <ul> <li>Te ricevi la scatolina, ci aggiungi un tuo lucchetto conservando la chiave e mi rimandi la scatolina</li> <li>La ricevo, rimuovo il mio lucchetto e ti rispedisco la scatolina, chiusa questa volta con il tuo lucchetto</li> <li>La ricevi, la apri e leggi il messaggio</li> </ul> <p>Per anni si è inseguita quest’idea ma quando si tratta di operazioni matematiche per cifrare e decifrare messaggi non sempre queste sono interscambiabili, in altre parole, se provassi a fare una cosa del tipo:</p> <ul> <li>Prendo un messaggio <em>m</em> e lo cifro, ottenendo \( C_a(m) \)</li> <li>Te ricevi il crittogramma (cioè il messaggio cifrato) e lo cifri a tua volta, ottenendo \( C_b(C_a(m)) \) e me lo rispedisci</li> <li>Io lo ricevo, applico la funzione di decifrazione <em>D</em> ottenendo \( D_a(C_b(C_a(m))) \) e ti rimando il tutto</li> <li>Te lo decifri e…</li> </ul> <p>e niente, ti ritrovi con una serie di lettere (<em>bit</em>) senza senso, a caso di cui non riesci più a capire quale fosse l’ordine iniziale, perchè, appunto, non possiamo applicare queste funzioni di decifrazione in un ordine diverso da quelle inverso rispetto alla cifratura.</p> <h2 id="cifrare-e-decifrare-due-mondi-in-parallelo">Cifrare e decifrare, due mondi in parallelo…</h2> <p>Chiarito quindi che questa strada non funziona bisogna cercare dei metodi per cifrare e decifrare che utilizzini dei <em>trucchetti</em> perchè tutto funzioni. Questi <em>trucchetti</em> consistono nel trovare un modo per generare due chiavi, una di cifratura ed una di decifratura tali che</p> <ul> <li>Generare queste due chiavi insieme è semplice</li> <li>Generare una di queste due chiavi, data l’altra non è facile (che in informatica vuol dire che ci vuole troppo tempo, troppe risorse di calcolo…)</li> </ul> <p>Sembrano condizioni complicate ma pensate a quest’esempio, vi chiedo di darmi due numeri <em>A, B</em> tali che \( A = B^2 \). Ora, noi non avete difficoltà a darmi questa coppia di numeri, se ad esempio sceglieste \( B = 1,4512\), calcolare <em>A</em> sarebbe molto semplice, basta fare \( B<em>B = A = 2,10598144\). Se vi dessi, invece, solamente A, chiedendovi di calcolare *B</em>, risulterebbe tutto più complicato da fare senza calcolatrice (con la calcolatrice basterebbe fare <em>radice quadrata di B</em>). Questo esempio giocattolo cosa vuol insegnare, che esistono modi che sono facili da trovare se si conoscono dei trucchetti (nel nostro caso conoscendo <em>B</em> tutto è facile), ma complicati se non si conosce l’informazione completa o si è vincolati a scegliere qualcosa in relazioe ad altro già dato.</p> <p>Se è chiara quest’idea possiamo provare a vedere come funziona uno dei più famosi algoritmi asimmetrici, l’RSA.</p> <h1 id="lalgoritmo-di-crittografia-asimmetrica-rsa">L’algoritmo di crittografia asimmetrica RSA</h1> <p>Lo scopo di questo algoritmo è, innanzitutto, generare due coppie di numeri \[ K_{pu} = &lt;e, n&gt; \] \[ K_{pr} = &lt;d, n&gt; \] dove, con \( K_{pu} \) identifichiamo la <em>public key</em>, la chiave pubblica, mentre con \( K_{pr} \) la <em>private key</em>. Cosa cambia tra queste due chiavi? Beh, una è pubblica ed una è privata. In altre parole, posso pubblicare liberamente in giro nel mondo la mia <em>chiave pubblica</em> e tutti possono cifrare usando quella, ma solamente io che conosco la <em>chiave privata</em> sono in grado di decifrare il messaggio. E per questa cosa delle due chiavi differenti prende l’aggettivo <em>asimmetrico</em>. Inoltre, conoscendo la mia <em>chiave pubblica</em> non è affatto banale trovare la mia <em>chiave privata</em>. È invece molto semplice generare le due chiavi insieme.</p> <h2 id="una-cosa-difficile-come-scomporre-in-fattori-primi">Una cosa difficile come scomporre in fattori primi…</h2> <p>Com’è possibile? Una delle cose che andremo a sfruttare è il fatto che conoscere i numeri primi che scompongono un numero qualsiasi <em>n</em> non è semplice. Se ad esempio vi chiedessi quali sono i fattori primi di 15 tutti voi mi direste senza problemi la risposta: 3 e 5. Beh, quali sono i fattori di 145? Qualcuno con un minimo di abilità nel calcolo mentale può arrivarci: 5 e 29. Bene, e se vi chiedessi i fattori di 42342316719343? Vi do un suggerimento, questo numero è composto da solamente due numeri primi. La risposta? I primi che lo scompongono sono: 1232453 e 34356131. Come ho fatto a calcolare la scomposizione? Semplice, non l’ho fatto! Ho scelto prima i due numeri primi e poi ho trovato 42342316719343.</p> <p>Ancora una volta, un problema può essere molto semplice se visto da una diversa angolazione. E proprio questa difficoltà nel trovare i fattori primi di un numero sarà un punto su cui si baserà l’RSA. Difatti sarà molto facile generare le \( K_{pu}, K_{pr}\) conoscendo la scomposizione di <em>n</em> (che è quello stesso <em>n</em> che compare in \( K_{pu}, K_{pr}\)) ma sarà difficile farlo se non si conoscono questi fattori primi che sono complicati da trovare. Se magari ve lo stesse chiedendo, anche con i computer che fanno i calcoli veloci è complicato perchè il numero di operazioni che bisogna fare cresce tantissimo al crescere di <em>n</em>, cioè se scegliamo <em>n=35</em> dobbiamo fare un numero di operazioni accettabili, ma già con quel numero 42342316719343 non è poi così scontato, se poi pensate al fatto che i numeri che vengono scelti nella realtà sono grandi circa \( 2^2048\), cioè numero composti da più di 600 cifre, ecco che la difficoltà appare evidente.</p> <h2 id="lalgoritmo">L’algoritmo</h2> <p>Detto questo, possiamo quindi vedere l’algoritmo generale, senza scegliere nel dettaglio (possiamo vedere nei commenti approfondimenti o chiarire qualcosa).</p> <p>Nel nostro esempio, come la volta scorsa, sarà Alice che vuole mandare un messaggio a Bob.</p> <ul> <li>Bob sceglie due numeri primi <em>p, q</em> molto grandi</li> <li>Bob calcola \( n = p*q \) e calcola \( \Phi(n) = (p-1)(q-1) \), dove \(\Phi\) è anche detta <a href="https://it.wikipedia.org/wiki/Funzione_%CF%86_di_Eulero">funzione di Eulero</a>.</li> <li>Bob sceglie ora un numero <em>e</em> tale che \( e &lt; \Phi(n) \), intero che sia coprimo con \(\Phi(n)\), cioè \( MCD(e, \Phi(n)) = 1\).</li> <li>Bob calcola ora \[ d = e^{-1} \ mod\ \Phi(n) \] che è un’operazione molto complicata se non si conosce \(\Phi(n)\), ma per conosce \(\Phi(n)\) occorre conoscere la scomposizioni in fattori primi di <em>n</em> e quindi ecco qui che ci siamo ricondotti all’esempio visto prima.</li> <li>Bob pubblica dove preferisce la sua chiave pubblica \[ K_{pu} = &lt;e, n&gt;\]</li> <li>Bob si conserva la sua chiave privata <em>d</em>.</li> </ul> <p>A questo punto Alice non deve far altro che prendere la chiave pubblica di Bob e usarla per cifrare il suo messaggio. In che modo?</p> <ul> <li>Alice prende \( K_{pu} = &lt;e, n&gt;\) e il messaggio m</li> <li>Spedisce a Bob il crittogramma <em>C</em> \[ C = m^e \ mod\ n\]</li> <li>Bob lo riceve, lo eleva alla sua chiave pubblica e lo decifra \[ m = C^d \ mod\ n\] essendo <em>d</em>, l’inverso di <em>e</em>.</li> </ul> <p>Non voglio ora annoiarvi con la dimostrazione del perchè questa cosa funziona, ci sono vari teoremi dietro che sfruttano le proprietà dei numero in un campo modulare. Trovate una buona spiegazione su <a href="https://it.wikipedia.org/wiki/RSA">Wikipedia</a>.</p> <p>Nel prossimo post vediamo come sfrutturare questa cosa per firmare dei documenti e avere la certezza che il firmatario sia effettivamente chi dice di essere (cioè validare la firma).</p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://127.0.0.1:4000/tags/#crittografia" title="Pages tagged crittografia" class="tag"><span class="term">crittografia</span></a><a href="http://127.0.0.1:4000/tags/#RSA" title="Pages tagged RSA" class="tag"><span class="term">RSA</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://127.0.0.1:4000/intro-crittografia-2/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=http://127.0.0.1:4000/intro-crittografia-2/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=http://127.0.0.1:4000/intro-crittografia-2/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"></section><!-- /#disqus_thread --> </header> <!-- JS --> <script src="http://127.0.0.1:4000/assets/js/jquery-1.12.0.min.js"></script> <script src="http://127.0.0.1:4000/assets/js/jquery.dlmenu.min.js"></script> <script src="http://127.0.0.1:4000/assets/js/jquery.goup.min.js"></script> <script src="http://127.0.0.1:4000/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://127.0.0.1:4000/assets/js/jquery.fitvid.min.js"></script> <script src="http://127.0.0.1:4000/assets/js/scripts.js"></script> <!-- Asynchronous Google Analytics snippet --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-105829132-1', 'auto'); ga('require', 'linkid', 'linkid.js'); ga('send', 'pageview'); </script> <script type="text/javascript"> var disqus_shortname = 'alessandro308'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
